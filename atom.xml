<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>iluis</title>
  
  <subtitle>普通的开发者,热情的学习者</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://iluis.gitee.io/"/>
  <updated>2020-04-07T06:37:13.539Z</updated>
  <id>https://iluis.gitee.io/</id>
  
  <author>
    <name>iluis</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo绑定自定义域名</title>
    <link href="https://iluis.gitee.io/2020/04/06/3.%20Hexo%E5%8D%9A%E5%AE%A2%E7%BB%91%E5%AE%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D/"/>
    <id>https://iluis.gitee.io/2020/04/06/3.%20Hexo%E5%8D%9A%E5%AE%A2%E7%BB%91%E5%AE%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D/</id>
    <published>2020-04-06T13:20:35.000Z</published>
    <updated>2020-04-07T06:37:13.539Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div align="center">    <h3>         涉及Github、Gitee、Coding的域名绑定    </h3></div><a id="more"></a><h4 id="本地站点添加CNAME文件"><a href="#本地站点添加CNAME文件" class="headerlink" title="本地站点添加CNAME文件"></a>本地站点添加CNAME文件</h4><ul><li>在博客根目录的<code>source</code>文件夹下新建一个名为<code>CNANE</code>的文件（无后缀名）,里面写入你的域名。</li></ul><p><img src="https://img-blog.csdnimg.cn/20200407021342755.png" alt="image-20200406235649236"></p><h4 id="双线解析"><a href="#双线解析" class="headerlink" title="双线解析"></a>双线解析</h4><ul><li>在<code>cmd</code>窗口<code>ping</code>一下博客的<code>ip</code>地址：<code>ping iluis.gitee.io</code></li></ul><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">E:\Personal\Desktop&gt;ping iluis.gitee.io</span><br><span class="line"></span><br><span class="line">正在 Ping fn0wz54v.dayugslb.com [<span class="number">212.64</span><span class="number">.62</span><span class="number">.174</span>] 具有 <span class="number">32</span> 字节的数据:</span><br><span class="line">来自 <span class="number">212.64</span><span class="number">.62</span><span class="number">.174</span> 的回复: 字节=<span class="number">32</span> 时间=<span class="number">72</span>ms TTL=<span class="number">52</span></span><br><span class="line">来自 <span class="number">212.64</span><span class="number">.62</span><span class="number">.174</span> 的回复: 字节=<span class="number">32</span> 时间=<span class="number">56</span>ms TTL=<span class="number">52</span></span><br><span class="line">来自 <span class="number">212.64</span><span class="number">.62</span><span class="number">.174</span> 的回复: 字节=<span class="number">32</span> 时间=<span class="number">62</span>ms TTL=<span class="number">52</span></span><br><span class="line">来自 <span class="number">212.64</span><span class="number">.62</span><span class="number">.174</span> 的回复: 字节=<span class="number">32</span> 时间=<span class="number">71</span>ms TTL=<span class="number">52</span></span><br><span class="line"></span><br><span class="line"><span class="number">212.64</span><span class="number">.62</span><span class="number">.174</span> 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = <span class="number">4</span>，已接收 = <span class="number">4</span>，丢失 = <span class="number">0</span> (<span class="number">0</span>% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = <span class="number">56</span>ms，最长 = <span class="number">72</span>ms，平均 = <span class="number">65</span>ms</span><br></pre></td></tr></table></figure><ul><li>双线解析前提是你必须要有一个自己的域名，进入域名管理后台，添加如下<code>dns</code>解析信息：</li></ul><p><img src="https://img-blog.csdnimg.cn/20200407021544763.png" alt="image-20200407002957436"></p><h4 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h4><p>在<code>github</code>中，点击仓库，点击<code>Setting</code>，在红框处添加域名</p><p><img src="https://img-blog.csdnimg.cn/20200407021628605.png" alt="image-20200407003614448"></p><h4 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a>Coding</h4><p><img src="https://img-blog.csdnimg.cn/20200407021702537.png" alt="image-20200407004659249"></p><h4 id="Gitee"><a href="#Gitee" class="headerlink" title="Gitee"></a>Gitee</h4><p>无需设置。</p><ul><li>如此，访问你指定的域名，国内读者就会解析到 <code>Gitee</code>或者<code>Coding</code>，国外读者就会解析到 <code>Github</code>。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;div align=&quot;center&quot;&gt;
    &lt;h3&gt;
         涉及Github、Gitee、Coding的域名绑定
    &lt;/h3&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="https://iluis.gitee.io/categories/Hexo/"/>
    
    
      <category term="Hexo域名" scheme="https://iluis.gitee.io/tags/Hexo%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客部署教程</title>
    <link href="https://iluis.gitee.io/2020/04/06/2.%20Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%20/"/>
    <id>https://iluis.gitee.io/2020/04/06/2.%20Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%20/</id>
    <published>2020-04-06T12:20:35.000Z</published>
    <updated>2020-04-07T06:32:30.395Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div align="center">    <h3>         将项目分别部署到Github、Gitee、Coding    </h3></div><a id="more"></a><h2 id="1-部署到Github"><a href="#1-部署到Github" class="headerlink" title="1. 部署到Github"></a>1. 部署到Github</h2><h4 id="1-打开并登录github后在右上角点击new-repository-新建仓库"><a href="#1-打开并登录github后在右上角点击new-repository-新建仓库" class="headerlink" title="1. 打开并登录github后在右上角点击new repository 新建仓库"></a>1. 打开并登录github后在右上角点击<code>new repository</code> 新建仓库</h4><p><img src="https://img-blog.csdnimg.cn/20200407013856890.png" alt="image-20200406192101596"></p><h4 id="2-仓库名称要设置成：username-github-io"><a href="#2-仓库名称要设置成：username-github-io" class="headerlink" title="2.仓库名称要设置成：username.github.io"></a>2.仓库名称要设置成：<code>username.github.io</code></h4><p><img src="https://img-blog.csdnimg.cn/20200407014134995.png" alt="image-20200406192643055"></p><h4 id="3-点击-Create-repository，创建成功。查看我们新建的仓库，点击右上角Clone-or-download"><a href="#3-点击-Create-repository，创建成功。查看我们新建的仓库，点击右上角Clone-or-download" class="headerlink" title="3.点击 Create repository，创建成功。查看我们新建的仓库，点击右上角Clone or download"></a>3.点击 <code>Create repository</code>，创建成功。查看我们新建的仓库，点击右上角<code>Clone or download</code></h4><p><img src="https://img-blog.csdnimg.cn/20200407014322379.png" alt="image-20200406192949032"></p><h4 id="4-点击红色框线处，复制克隆仓库路径-【https：方便，ssh：更安全】"><a href="#4-点击红色框线处，复制克隆仓库路径-【https：方便，ssh：更安全】" class="headerlink" title="4.点击红色框线处，复制克隆仓库路径 【https：方便，ssh：更安全】"></a>4.点击红色框线处，复制克隆仓库路径 【https：方便，ssh：更安全】</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//gi</span>thub.com<span class="regexp">/iluis97/i</span>luis97.github.io.git</span><br></pre></td></tr></table></figure><h4 id="5-打开hexo的站点配置文件-config-yml。在最底部找到-Deployment写入以下配置。"><a href="#5-打开hexo的站点配置文件-config-yml。在最底部找到-Deployment写入以下配置。" class="headerlink" title="5. 打开hexo的站点配置文件_config.yml。在最底部找到# Deployment写入以下配置。"></a>5. 打开hexo的站点配置文件<code>_config.yml</code>。在最底部找到<code># Deployment</code>写入以下配置。</h4><p><code>repo</code>：改成自己的仓库路径。</p><p>注意：每个冒号后面都有空格。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">deploy: #博客部署</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/iluis97/iluis97.github.io.git</span><br><span class="line">  branch: master #部署分支</span><br></pre></td></tr></table></figure><h4 id="6-部署到github"><a href="#6-部署到github" class="headerlink" title="6. 部署到github"></a>6. 部署到github</h4><ul><li>在git bash窗口输入（在HexoBlog文件夹内打开<code>git bash</code>窗口）</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure><ul><li>部署成功后访问网址：<a href="https://iluis97.github.io/" target="_blank" rel="noopener">https://iluis97.github.io/</a>    即可查看博客。（记得要换成自己的github名字！）</li></ul><h2 id="2-部署到码云Gitee"><a href="#2-部署到码云Gitee" class="headerlink" title="2. 部署到码云Gitee"></a>2. 部署到码云Gitee</h2><h4 id="1-登录gitee，新建仓库"><a href="#1-登录gitee，新建仓库" class="headerlink" title="1. 登录gitee，新建仓库"></a>1. 登录gitee，新建仓库</h4><p><img src="https://img-blog.csdnimg.cn/20200407014557214.png" alt="image-20200406220601435"></p><h4 id="2-仓库名称和路径都写自己的username"><a href="#2-仓库名称和路径都写自己的username" class="headerlink" title="2. 仓库名称和路径都写自己的username"></a>2. 仓库名称和路径都写自己的<code>username</code></h4><ul><li>不知道username可以点击个人主页，地址栏的网址最后一个单词</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//gi</span>tee.com<span class="regexp">/iluis  /</span><span class="regexp">/ username = iluis</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200407014643556.png" alt="image-20200406220730451"></p><h4 id="3-点击复制仓库地址"><a href="#3-点击复制仓库地址" class="headerlink" title="3. 点击复制仓库地址"></a>3. 点击复制仓库地址</h4><p><img src="https://img-blog.csdnimg.cn/20200407014711781.png" alt="image-20200406221118303"></p><h4 id="4-修改hexo的主配置文件-config-yml"><a href="#4-修改hexo的主配置文件-config-yml" class="headerlink" title="4.修改hexo的主配置文件_config.yml"></a>4.修改hexo的主配置文件<code>_config.yml</code></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">deploy: #博客部署</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://gitee.com/iluis/iluis.git</span><br><span class="line">  branch: master #部署分支</span><br></pre></td></tr></table></figure><h4 id="5-部署到Gitee"><a href="#5-部署到Gitee" class="headerlink" title="5.部署到Gitee"></a>5.部署到Gitee</h4><ul><li><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="6-注意"><a href="#6-注意" class="headerlink" title="6.注意"></a>6.注意</h4><p>非<code>Gitee Pages Pro</code>不支持推送后自动部署。需要手动部署。</p><ul><li>点击仓库上方的服务，选择<code>Gitee Pages</code></li></ul><p><img src="https://img-blog.csdnimg.cn/20200407014831649.png" alt="image-20200406221544468"></p><h4 id="7-点击更新"><a href="#7-点击更新" class="headerlink" title="7. 点击更新"></a>7. 点击更新</h4><p><img src="https://img-blog.csdnimg.cn/20200407014915977.png" alt></p><h4 id="8-复制访问地址到浏览器地址栏，回车即可访问博客"><a href="#8-复制访问地址到浏览器地址栏，回车即可访问博客" class="headerlink" title="8. 复制访问地址到浏览器地址栏，回车即可访问博客"></a>8. 复制访问地址到浏览器地址栏，回车即可访问博客</h4><h4 id="9-优缺点"><a href="#9-优缺点" class="headerlink" title="9. 优缺点"></a>9. 优缺点</h4><ul><li>相比较<code>github</code>访问速度会快很多</li><li>不支持推送后自动部署。（<code>Coding</code>支持）</li></ul><h2 id="3-部署到Coding"><a href="#3-部署到Coding" class="headerlink" title="3. 部署到Coding"></a>3. 部署到Coding</h2><h4 id="1-新建代码仓库"><a href="#1-新建代码仓库" class="headerlink" title="1. 新建代码仓库"></a>1. 新建代码仓库</h4><p><img src="https://img-blog.csdnimg.cn/20200407015207459.png" alt="image-20200407012908034"></p><h4 id="2-克隆代码仓库"><a href="#2-克隆代码仓库" class="headerlink" title="2. 克隆代码仓库"></a>2. 克隆代码仓库</h4><p><img src="https://img-blog.csdnimg.cn/2020040701523653.png" alt="image-20200407013006911"></p><h4 id="3-修改hexo博客站点配置文件"><a href="#3-修改hexo博客站点配置文件" class="headerlink" title="3. 修改hexo博客站点配置文件"></a>3. 修改hexo博客站点配置文件</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>: #博客部署</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">#  <span class="attribute">branch</span>: master # 部署分支</span><br><span class="line">  <span class="attribute">repo</span>: </span><br><span class="line">       git<span class="variable">@e</span>.coding.<span class="attribute">net</span>:iluis/iluis.git,master</span><br></pre></td></tr></table></figure><h4 id="4-部署到Gitee"><a href="#4-部署到Gitee" class="headerlink" title="4. 部署到Gitee"></a>4. 部署到Gitee</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure><h4 id="5-打开访问地址"><a href="#5-打开访问地址" class="headerlink" title="5. 打开访问地址"></a>5. 打开访问地址</h4><p><img src="https://img-blog.csdnimg.cn/20200407015316160.png" alt="image-20200407013434028"></p><h4 id="6-优点"><a href="#6-优点" class="headerlink" title="6. 优点"></a>6. 优点</h4><p>除过国内访问速度快之外， <code>Coding</code> 还有如下优点：</p><ol><li>仓库名没有特殊要求，且仓库可私有，你如果对源码信息比较敏感，可以将源码管理迁移至 <code>Coding</code> 。</li><li>可以部署在任何分支上，这样我们在源码管理时，可以将源码放到 <code>master</code>， 网站页面部署在其他分支，避免按之前的方式，我们每次克隆仓库后，还要手动检出源码分支。</li><li>支持最多5个域名绑定，而且绑定过程仅在后台就可以完成。</li><li>绑定域后，还可以支持https，并提供免费SSL/TLS证书申请。当然，要完全支持https，你页面引用的资源的url还需要做相当的修改，这个大家可以自己去尝试。而在 <code>Github</code> 绑定域名后，就无法支持https。</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;div align=&quot;center&quot;&gt;
    &lt;h3&gt;
         将项目分别部署到Github、Gitee、Coding
    &lt;/h3&gt;
&lt;/div&gt;


    
    </summary>
    
    
      <category term="Hexo" scheme="https://iluis.gitee.io/categories/Hexo/"/>
    
    
      <category term="Hexo部署" scheme="https://iluis.gitee.io/tags/Hexo%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客搭建教程</title>
    <link href="https://iluis.gitee.io/2020/04/06/1.%20Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    <id>https://iluis.gitee.io/2020/04/06/1.%20Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</id>
    <published>2020-04-06T11:20:35.000Z</published>
    <updated>2020-04-07T06:32:53.835Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div align="center">    <h3>         环境准备、在本地搭建、编写博客    </h3></div><a id="more"></a><p><strong>欣赏优质博客</strong></p><p>Sanarous：<a href="https://bestzuo.cn/" target="_blank" rel="noopener">https://bestzuo.cn/</a></p><h2 id="1-环境准备"><a href="#1-环境准备" class="headerlink" title="1. 环境准备"></a>1. 环境准备</h2><h3 id="1-1-安装-Node"><a href="#1-1-安装-Node" class="headerlink" title="1.1 安装 Node"></a>1.1 安装 Node</h3><p> 检测node安装是否成功：<code>node -v</code>和<code>npm -v</code></p><blockquote><p>windows用户点击win+r，代开cmd命令窗口</p></blockquote><p><strong>安装<code>cnpm</code>（速度比npm快）</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>检查cnpm是否安装成功：<code>cnpm -v</code></p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">C:<span class="symbol">\U</span>sers<span class="symbol">\L</span>&gt;cnpm -v</span><br><span class="line">cnpm@6.1.1 (C:<span class="symbol">\U</span>sers<span class="symbol">\L</span><span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm<span class="symbol">\n</span>ode_modules<span class="symbol">\c</span>npm<span class="symbol">\l</span>ib<span class="symbol">\p</span>arse_argv.js)</span><br><span class="line">npm@6.14.2 (C:<span class="symbol">\U</span>sers<span class="symbol">\L</span><span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm<span class="symbol">\n</span>ode_modules<span class="symbol">\c</span>npm<span class="symbol">\n</span>ode_modules<span class="symbol">\n</span>pm<span class="symbol">\l</span>ib<span class="symbol">\n</span>pm.js)</span><br><span class="line">node@12.16.1 (C:<span class="symbol">\P</span>rogram Files<span class="symbol">\n</span>odejs<span class="symbol">\n</span>ode.exe)</span><br><span class="line">npminstall@3.27.0 (C:<span class="symbol">\U</span>sers<span class="symbol">\L</span><span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm<span class="symbol">\n</span>ode_modules<span class="symbol">\c</span>npm<span class="symbol">\n</span>ode_modules<span class="symbol">\n</span>pminstall<span class="symbol">\l</span>ib<span class="symbol">\i</span>ndex.js)</span><br><span class="line">prefix=C:<span class="symbol">\U</span>sers<span class="symbol">\L</span><span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm</span><br><span class="line">win32 x64 10.0.17763</span><br><span class="line">registry=https://r.npm.taobao.org</span><br></pre></td></tr></table></figure><h3 id="1-2-安装-Git-【重要】"><a href="#1-2-安装-Git-【重要】" class="headerlink" title="1.2 安装 Git 【重要】"></a>1.2 安装 Git 【重要】</h3><p>安装和配置git在我的博客中有详细说明</p><blockquote><p><a href="https://blog.csdn.net/qq_39720594/article/details/105347683" target="_blank" rel="noopener">https://blog.csdn.net/qq_39720594/article/details/105347683</a></p></blockquote><h3 id="1-3-安装-Hexo"><a href="#1-3-安装-Hexo" class="headerlink" title="1.3 安装 Hexo"></a>1.3 安装 Hexo</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure><p>检查hexo是否安装成功<code>hexo -v</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">C:\Users\L&gt;hexo</span> <span class="string">-v</span></span><br><span class="line"><span class="attr">hexo-cli:</span> <span class="number">3.1</span><span class="number">.0</span></span><br><span class="line"><span class="attr">os:</span> <span class="string">Windows_NT</span> <span class="number">10.0</span><span class="number">.17763</span> <span class="string">win32</span> <span class="string">x64</span></span><br><span class="line"><span class="attr">node:</span> <span class="number">12.16</span><span class="number">.1</span></span><br><span class="line"><span class="attr">v8:</span> <span class="number">7.8</span><span class="number">.279</span><span class="number">.23</span><span class="string">-node.31</span></span><br><span class="line"><span class="attr">uv:</span> <span class="number">1.34</span><span class="number">.0</span></span><br><span class="line"><span class="attr">zlib:</span> <span class="number">1.2</span><span class="number">.11</span></span><br><span class="line"><span class="attr">brotli:</span> <span class="number">1.0</span><span class="number">.7</span></span><br><span class="line"><span class="attr">ares:</span> <span class="number">1.15</span><span class="number">.0</span></span><br><span class="line"><span class="attr">modules:</span> <span class="number">72</span></span><br><span class="line"><span class="attr">nghttp2:</span> <span class="number">1.40</span><span class="number">.0</span></span><br><span class="line"><span class="attr">napi:</span> <span class="number">5</span></span><br><span class="line"><span class="attr">llhttp:</span> <span class="number">2.0</span><span class="number">.4</span></span><br><span class="line"><span class="attr">http_parser:</span> <span class="number">2.9</span><span class="number">.3</span></span><br><span class="line"><span class="attr">openssl:</span> <span class="number">1.1</span><span class="string">.1d</span></span><br><span class="line"><span class="attr">cldr:</span> <span class="number">35.1</span></span><br><span class="line"><span class="attr">icu:</span> <span class="number">64.2</span></span><br><span class="line"><span class="attr">tz:</span> <span class="string">2019c</span></span><br><span class="line"><span class="attr">unicode:</span> <span class="number">12.1</span></span><br></pre></td></tr></table></figure><blockquote><p>具体细节推荐观看B站：<a href="https://www.bilibili.com/video/BV1Yb411a7ty" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1Yb411a7ty</a> （UP主讲的很详细！）</p></blockquote><h2 id="2-在本地搭建个人博客"><a href="#2-在本地搭建个人博客" class="headerlink" title="2. 在本地搭建个人博客"></a>2. 在本地搭建个人博客</h2><h3 id="2-1-初始化Hexo"><a href="#2-1-初始化Hexo" class="headerlink" title="2.1 初始化Hexo"></a>2.1 初始化Hexo</h3><p>在电脑上新建一个文件夹<code>HexoBlog</code>（随便起名字）在此文件夹内打开<code>git bash</code>窗口，输入以下命令，然后回车。</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo init</span></span><br></pre></td></tr></table></figure><ul><li>我们可以看见文件夹内出现了hexo的文件</li></ul><p><img src="https://img-blog.csdnimg.cn/20200407020730287.png" alt="image-20200406182527527"></p><h3 id="2-2-启动博客"><a href="#2-2-启动博客" class="headerlink" title="2.2 启动博客"></a>2.2 启动博客</h3><ul><li>在git bash窗口输入（在HexoBlog文件夹内打开<code>git bash</code>窗口）</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200407020817503.png" alt="image-20200406190523978"></p><p>看到此提示后，在浏览器地址栏输入：<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> ，查看我们的博客效果：</p><p><img src="https://img-blog.csdnimg.cn/20200407020911629.png" alt="image-20200406183327089"></p><h2 id="3-编写博客"><a href="#3-编写博客" class="headerlink" title="3. 编写博客"></a>3. 编写博客</h2><h3 id="3-1-创建post-md"><a href="#3-1-创建post-md" class="headerlink" title="3.1 创建post.md"></a>3.1 创建<code>post.md</code></h3><ul><li>在git bash窗口输入（在HexoBlog文件夹内打开<code>git bash</code>窗口）</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo n post</span></span><br></pre></td></tr></table></figure><p>这时在我们的<code>\source\_posts</code>文件夹中会生成<code>post.md</code>文件，双击打开此Markdown文件（推荐使用<code>typora</code>）。然后写入内容。</p><ul><li>举一个例子：</li></ul><p><img src="https://img-blog.csdnimg.cn/20200407021042316.png" alt="image-20200406185743937"></p><h3 id="3-2-生成静态页面"><a href="#3-2-生成静态页面" class="headerlink" title="3.2 生成静态页面"></a>3.2 生成静态页面</h3><ul><li>在git bash窗口输入</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo g</span></span><br></pre></td></tr></table></figure><h3 id="3-3-启动本地服务"><a href="#3-3-启动本地服务" class="headerlink" title="3.3 启动本地服务"></a>3.3 启动本地服务</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure><blockquote><p>关闭本地服务器在 <strong>Git Bash</strong> 界面按 Ctrl+C， 在浏览器输入：<a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> 查看</p></blockquote><p>博客界面如图所示：</p><p><img src="https://img-blog.csdnimg.cn/20200407020955568.png" alt="image-20200406185140256"></p>]]></content>
    
    <summary type="html">
    
      &lt;div align=&quot;center&quot;&gt;
    &lt;h3&gt;
         环境准备、在本地搭建、编写博客
    &lt;/h3&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="https://iluis.gitee.io/categories/Hexo/"/>
    
    
      <category term="Hexo搭建" scheme="https://iluis.gitee.io/tags/Hexo%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>1. 程序的耦合</title>
    <link href="https://iluis.gitee.io/2020/04/03/1.%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%80%A6%E5%90%88/"/>
    <id>https://iluis.gitee.io/2020/04/03/1.%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%80%A6%E5%90%88/</id>
    <published>2020-04-03T11:20:35.000Z</published>
    <updated>2020-04-03T04:34:44.079Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="耦合"><a href="#耦合" class="headerlink" title="耦合"></a>耦合</h3><p>程序间的依赖关系</p><ol><li>类之间的依赖关系</li><li>方法间的依赖关系</li></ol><h3 id="解耦"><a href="#解耦" class="headerlink" title="解耦"></a>解耦</h3><p>降低程序间的依赖关系</p><p>实际开发中，应该做到：编译期不依赖，运行时才依赖。</p><a id="more"></a><h3 id="解耦的思路"><a href="#解耦的思路" class="headerlink" title="解耦的思路"></a>解耦的思路</h3><ul><li>使用反射来创建对象，而避免使用new关键字。</li><li>通过读取配置文件来获取要创建的对象全限定类名  【见下一章】</li></ul><p>代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.luis.jdbc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 程序的耦合和解耦</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcDemo1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 1.注册驱动</span></span><br><span class="line">        <span class="comment">//DriverManager.registerDriver(new com.mysql.jdbc.Driver());</span></span><br><span class="line">        <span class="comment">// 1.1 使用反射来创建对象</span></span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        <span class="comment">// 2.获取连接</span></span><br><span class="line">        Connection conn = DriverManager.getConnection(<span class="string">"jdbc:mysql://localhost:3306/spring"</span>,<span class="string">"root"</span>,<span class="string">"root"</span>);</span><br><span class="line">        <span class="comment">// 3.获取操作数据库的预处理对象</span></span><br><span class="line">        PreparedStatement pstmt = conn.prepareStatement(<span class="string">"select * from account"</span>);</span><br><span class="line">        <span class="comment">// 4.执行sql，得到结果集</span></span><br><span class="line">        ResultSet rs = pstmt.executeQuery();</span><br><span class="line">        <span class="comment">// 5.得到结果集</span></span><br><span class="line">        <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">            System.out.println(rs.getString(<span class="string">"name"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 6.释放资源</span></span><br><span class="line">        rs.close();</span><br><span class="line">        pstmt.close();</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">aaa</span></span><br><span class="line"><span class="keyword">bbb</span></span><br><span class="line"><span class="keyword">ccc</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;耦合&quot;&gt;&lt;a href=&quot;#耦合&quot; class=&quot;headerlink&quot; title=&quot;耦合&quot;&gt;&lt;/a&gt;耦合&lt;/h3&gt;&lt;p&gt;程序间的依赖关系&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;类之间的依赖关系&lt;/li&gt;
&lt;li&gt;方法间的依赖关系&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;解耦&quot;&gt;&lt;a href=&quot;#解耦&quot; class=&quot;headerlink&quot; title=&quot;解耦&quot;&gt;&lt;/a&gt;解耦&lt;/h3&gt;&lt;p&gt;降低程序间的依赖关系&lt;/p&gt;
&lt;p&gt;实际开发中，应该做到：编译期不依赖，运行时才依赖。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>12. 注入集合数据</title>
    <link href="https://iluis.gitee.io/2020/04/03/12.%E6%B3%A8%E5%85%A5%E9%9B%86%E5%90%88%E6%95%B0%E6%8D%AE/"/>
    <id>https://iluis.gitee.io/2020/04/03/12.%E6%B3%A8%E5%85%A5%E9%9B%86%E5%90%88%E6%95%B0%E6%8D%AE/</id>
    <published>2020-04-03T03:48:03.000Z</published>
    <updated>2020-04-07T06:13:29.122Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div align="center">    <h2>   List结构集合与Map结构集合注入数据    </h2></div><a id="more"></a><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>复杂类型注入</p><h3 id="用于给-List-结构注入的标签"><a href="#用于给-List-结构注入的标签" class="headerlink" title="用于给 List 结构注入的标签"></a>用于给 <code>List</code> 结构注入的标签</h3><p><code>list、array、set</code></p><h3 id="用于给-Map-结构集合注入的标签"><a href="#用于给-Map-结构集合注入的标签" class="headerlink" title="用于给 Map 结构集合注入的标签"></a>用于给 <code>Map</code> 结构集合注入的标签</h3><p><code>map、props</code></p><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>结构相同时，标签可以互换，同一结构的标签通用</p><blockquote><p>记住<code>list、map</code>两个标签即可</p></blockquote><p>代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"asAnno"</span> <span class="attr">class</span>=<span class="string">"cn.luis.service.impl.AccountServiceImplAnnotation"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myStrs"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>CCC<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myList"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>CCC<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mySet"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>AAA<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>CCC<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myMap"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"孙悟空"</span> <span class="attr">value</span>=<span class="string">"齐天大圣"</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"猪八戒"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">value</span>&gt;</span>天蓬元帅<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"myProps"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"p1"</span>&gt;</span>pppp<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"p2"</span>&gt;</span>bbbb<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>AccountServiceImplAnnotation</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImplAnnotation</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 若是经常变化的方式，并不适用于注入的方式</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String[] myStrs;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; myList;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; mySet;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; myMap;</span><br><span class="line">    <span class="keyword">private</span> Properties myProps;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyStrs</span><span class="params">(String[] myStrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.myStrs = myStrs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyList</span><span class="params">(List&lt;String&gt; myList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.myList = myList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMySet</span><span class="params">(Set&lt;String&gt; mySet)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mySet = mySet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyMap</span><span class="params">(Map&lt;String, String&gt; myMap)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.myMap = myMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyProps</span><span class="params">(Properties myProps)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.myProps = myProps;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(Arrays.toString(myStrs));</span><br><span class="line">        System.out.println(myList);</span><br><span class="line">        System.out.println(mySet);</span><br><span class="line">        System.out.println(myMap);</span><br><span class="line">        System.out.println(myProps);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Client</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.dao.IAccountDao;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.impl.AccountServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.FileSystemXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象 【容器】</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">// 2.根据【bean的id】获取Bean对象</span></span><br><span class="line">        IAccountService as = (IAccountService) ac.getBean(<span class="string">"asAnno"</span>);</span><br><span class="line">        as.saveAccount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[AAA, <span class="keyword">bbb, </span>CCC]</span><br><span class="line">[AAA, <span class="keyword">bbb, </span>CCC]</span><br><span class="line">[AAA, <span class="keyword">bbb, </span>CCC]</span><br><span class="line">&#123;孙悟空=齐天大圣, 猪八戒=天蓬元帅&#125;</span><br><span class="line">&#123;<span class="built_in">p1</span><span class="symbol">=pppp</span>, <span class="built_in">p2</span><span class="symbol">=bbbb</span>&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;div align=&quot;center&quot;&gt;
    &lt;h2&gt;
   List结构集合与Map结构集合注入数据
    &lt;/h2&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>11. Set方法注入</title>
    <link href="https://iluis.gitee.io/2020/04/03/11.Set%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5/"/>
    <id>https://iluis.gitee.io/2020/04/03/11.Set%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5/</id>
    <published>2020-04-03T03:47:57.000Z</published>
    <updated>2020-04-03T04:37:18.257Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://img-blog.csdnimg.cn/20200402152201311.png" alt></p><a id="more"></a><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>注入基本类型和String和其它bean类型 【常用】</p><p><strong>涉及的标签</strong>：<code>property</code></p><p><strong>出现的位置</strong>：bean标签的内容</p><h3 id="标签的属性"><a href="#标签的属性" class="headerlink" title="标签的属性"></a>标签的属性</h3><ol><li>name：指定注入时所调用的set方法名称 【不是成员变量名称】</li><li>value：提供基本类型个String类型的数据</li><li>ref：引用其他的bean类型数据或bean对象，即在spring的IOC核心容器中出现过的bean对象       </li></ol><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li><p>创建对象时没有明确的限制，可以直接使用默认构造函数</p></li><li><p>如果某个成员必须有值，则获取对象时set方法可能没有执行到，整个程序就结束了</p><blockquote><p>可能刚调用构造函数，就执行完了，没有到set这一步</p></blockquote></li></ul><p>代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Set方法注入 【常用】--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"asSet"</span> <span class="attr">class</span>=<span class="string">"cn.luis.service.impl.AccountServiceImplSet"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"userame"</span> <span class="attr">value</span>=<span class="string">"钢铁侠"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">value</span>=<span class="string">"35"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"birthday"</span> <span class="attr">ref</span>=<span class="string">"now"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--配置一个日期对象--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--spring读取全限定类名，反射创建对象，并存入spring核心容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"now"</span> <span class="attr">class</span>=<span class="string">"java.util.Date"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>AccountServiceImplSet</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImplSet</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 若是经常变化的方式，并不适用于注入的方式</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birthday;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserame</span><span class="params">(String name)</span> </span>&#123;  <span class="comment">// set方法名称【不一定是成员变量名称】</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBirthday</span><span class="params">(Date birthday)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"servlce中的saveAccount方法执行了..."</span>+name+<span class="string">","</span>+age+<span class="string">","</span>+birthday);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Client</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.dao.IAccountDao;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.impl.AccountServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.FileSystemXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象 【容器】</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">// 2.根据【bean的id】获取Bean对象</span></span><br><span class="line">        IAccountService as = (IAccountService) ac.getBean(<span class="string">"asSet"</span>);</span><br><span class="line">        as.saveAccount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">servlce中的saveAccount方法执行了...钢铁侠,<span class="number">35</span>,Tue Mar <span class="number">10</span> <span class="number">22</span>:<span class="number">16</span>:<span class="number">12</span> CST <span class="number">2020</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200402152201311.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>10. 构造函数注入</title>
    <link href="https://iluis.gitee.io/2020/04/03/10.%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%B3%A8%E5%85%A5/"/>
    <id>https://iluis.gitee.io/2020/04/03/10.%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%B3%A8%E5%85%A5/</id>
    <published>2020-04-03T03:47:50.000Z</published>
    <updated>2020-04-03T04:37:08.551Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://img-blog.csdnimg.cn/20200402152102508.png" alt></p><div align="center">    <h3>    constructor-arg标签    </h3></div><a id="more"></a><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>注入基本类型和String和其它bean类型 【不常用】</p><p><strong>使用的标签</strong>：<code>constructor-arg</code></p><p><strong>标签出现的位置</strong>：bean标签的内部</p><h3 id="标签中的属性"><a href="#标签中的属性" class="headerlink" title="标签中的属性"></a>标签中的属性</h3><blockquote><p>前三个用于给构造函数中指定的参数赋值</p></blockquote><ol><li>type：指定要注入数据的数据类型，该数据类型也是构造函数中某个或某些参数的类型            </li><li>index：给构造函数中指定索引位置的参数赋值，索引位置从0开始</li><li>name：给构造函数中指定的名称参数赋值 【常用】</li><li>value:提供基本类型个String类型的数据</li><li>ref：引用其他的bean类型数据或bean对象，即在spring的IOC核心容器中出现过的bean对象</li></ol><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol><li>在注入数据时，必须进行注入数据操作，否则对象无法创建。</li><li>改变了bean对象的的实例化方式，若在创建对象时用不到某些数据，也必须提供才行</li></ol><p>代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--构造函数注入 【不常用】--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> <span class="attr">class</span>=<span class="string">"cn.luis.service.impl.AccountServiceImpl"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"Luis"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">value</span>=<span class="string">"18"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ref:引用关联bean对象--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"birthday"</span> <span class="attr">ref</span>=<span class="string">"now"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"> <span class="comment">&lt;!--配置一个日期对象--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--spring读取全限定类名，反射创建对象，并存入spring核心容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"now"</span> <span class="attr">class</span>=<span class="string">"java.util.Date"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>AccountServiceImpl</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.dao.IAccountDao;</span><br><span class="line"><span class="keyword">import</span> cn.luis.dao.impl.AccountDaoImpl;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 若是经常变化的方式，并不适用于注入的方式</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birthday;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountServiceImpl</span><span class="params">(String name, Integer age, Date birthday)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"servlce中的saveAccount方法执行了..."</span>+name+<span class="string">","</span>+age+<span class="string">","</span>+birthday);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Client</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.dao.IAccountDao;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.impl.AccountServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.FileSystemXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象 【容器】</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">// 2.根据【bean的id】获取Bean对象</span></span><br><span class="line">        IAccountService as = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">        as.saveAccount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">servlce中的saveAccount方法执行了...Luis,<span class="number">18</span>,Tue Mar <span class="number">10</span> <span class="number">20</span>:<span class="number">32</span>:<span class="number">34</span> CST <span class="number">2020</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200402152102508.png&quot; alt&gt;&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;
    &lt;h3&gt;
    constructor-arg标签
    &lt;/h3&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>9. 依赖注入</title>
    <link href="https://iluis.gitee.io/2020/04/03/9.%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/"/>
    <id>https://iluis.gitee.io/2020/04/03/9.%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/</id>
    <published>2020-04-03T03:46:31.000Z</published>
    <updated>2020-04-07T06:14:15.926Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h2><a id="more"></a><p>依赖注入： <code>Dependency Injection</code></p><p>IOC作用：  降低程序间的耦合（依赖关系）</p><p> 依赖关系的管理：以后都交给spring来维护</p><blockquote><p>在当前类需要用到其它类的对象，由spring为我们提供，我们只需要在配置文件中说明</p></blockquote><p>依赖关系的维护：就叫做依赖注入</p><h3 id="注入方式"><a href="#注入方式" class="headerlink" title="注入方式"></a>注入方式</h3><p>有三种：</p><ol><li>使用构造函数提供</li><li>使用set方法提供       </li><li>使用注解提供</li></ol><h3 id="能注入的数据"><a href="#能注入的数据" class="headerlink" title="能注入的数据"></a>能注入的数据</h3><p>有三类：</p><ol><li><p>基本类型和String</p></li><li><p>其它bean类型{在配置文件中或者注解配置过的bean}<br>如引用配置文件中的日期对象：<code>ref=“日期对象的bean的id”</code></p></li><li><p>复杂类型（集合类型）</p><ul><li>需要借助其他标签实现</li><li>只能通过构造方法或set方法注入</li></ul></li></ol><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>若是经常变化的数据，并不适用于构造函数注入的方式</p><p><img src="https://img-blog.csdnimg.cn/20200402151951372.png" alt="在这里插入图片描述"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;依赖注入&quot;&gt;&lt;a href=&quot;#依赖注入&quot; class=&quot;headerlink&quot; title=&quot;依赖注入&quot;&gt;&lt;/a&gt;依赖注入&lt;/h2&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>8. bean的生命周期</title>
    <link href="https://iluis.gitee.io/2020/04/03/8.bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
    <id>https://iluis.gitee.io/2020/04/03/8.bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</id>
    <published>2020-04-03T03:23:09.000Z</published>
    <updated>2020-04-03T04:36:49.729Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://img-blog.csdnimg.cn/20200402141451777.png" alt></p><div align="center">    <h3>    单例对象和多例对象的生命周期对比    </h3></div><a id="more"></a><h3 id="单例对象"><a href="#单例对象" class="headerlink" title="单例对象"></a>单例对象</h3><ul><li>出生：当容器创建时对象出生</li><li>活着：只要容易还在，对象一直活着</li><li>死亡：容器销毁，对象消亡</li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>单例对象的生命周期和容器相同</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scope="singleton" init-method="init" destroy-method="destory"</span><br></pre></td></tr></table></figure><h3 id="多例对象"><a href="#多例对象" class="headerlink" title="多例对象"></a>多例对象</h3><ul><li><p>出生：当使用对象时，spring框架为我们创建</p></li><li><p>活着：对象只要在使用过程中就一直活着</p></li><li><p>死亡：当对象长时间不用，且没有别的对象引用时，由java的垃圾回收器回收 </p><blockquote><p>【spring不知道它何时死亡】</p></blockquote></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scope="prototype" init-method="init" destroy-method="destory</span><br></pre></td></tr></table></figure><p>代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> <span class="attr">class</span>=<span class="string">"cn.luis.service.impl.AccountServiceImpl"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">scope</span>=<span class="string">"singleton"</span> <span class="attr">init-method</span>=<span class="string">"init"</span> <span class="attr">destroy-method</span>=<span class="string">"destory"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>Client</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象 【容器】</span></span><br><span class="line">        <span class="comment">//ApplicationContext ac = new ClassPathXmlApplicationContext("bean.xml");</span></span><br><span class="line">        ClassPathXmlApplicationContext ac = <span class="keyword">new</span>      ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">// 2.根据id获取Bean对象</span></span><br><span class="line">        IAccountService as1 = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">        as1.saveAccount();</span><br><span class="line">        ac.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">【单例】</span><br><span class="line">对象创建了...</span><br><span class="line">对象初始化了...</span><br><span class="line">servlce中的saveAccount方法执行了...</span><br><span class="line">对象销毁了...</span><br><span class="line"></span><br><span class="line">【当切换为多例时，对象并没有销毁】</span><br><span class="line">对象创建了...</span><br><span class="line">对象初始化了...</span><br><span class="line">servlce中的saveAccount方法执行了...</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200402141451777.png&quot; alt&gt;&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;
    &lt;h3&gt;
    单例对象和多例对象的生命周期对比
    &lt;/h3&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>7. bean的作用范围</title>
    <link href="https://iluis.gitee.io/2020/04/03/7.bean%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4/"/>
    <id>https://iluis.gitee.io/2020/04/03/7.bean%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4/</id>
    <published>2020-04-03T03:23:03.000Z</published>
    <updated>2020-04-03T04:36:39.492Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://img-blog.csdnimg.cn/20200402141356450.png" alt></p><div align="center">    <h3>    Scope标签的使用    </h3></div><a id="more"></a><p>指定bean的作用范围：scope</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">scope</span>=<span class="string">"prototype"</span></span><br></pre></td></tr></table></figure><h3 id="取值"><a href="#取值" class="headerlink" title="取值"></a>取值</h3><ol><li><p>singleton:单例的（默认值）</p></li><li><p>prototype:多例的</p></li><li><p>request:作用于web应用的请求范围</p></li><li><p>session:作用于web应用的会话范围</p></li><li><p>golbal-session:作用于集群环境的会话范围（全局会话范围）</p><blockquote><p>若不是集群环境时，它就是session</p></blockquote></li></ol><p>代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> <span class="attr">class</span>=<span class="string">"cn.luis.service.impl.AccountServiceImpl"</span>   <span class="attr">scope</span>=<span class="string">"prototype"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>Client</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">// 2.根据id获取Bean对象</span></span><br><span class="line">        IAccountService as1 = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">        IAccountService as2 = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(as1 == as2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>AccountServiceImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao = <span class="keyword">new</span> AccountDaoImpl();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountServiceImpl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"对象创建了..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>&#123;</span><br><span class="line">     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">singleton:</span></span><br><span class="line"><span class="string">对象创建了...</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">prototype:</span></span><br><span class="line"><span class="string">对象创建了...</span></span><br><span class="line"><span class="string">对象创建了...</span></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200402141356450.png&quot; alt&gt;&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;
    &lt;h3&gt;
    Scope标签的使用
    &lt;/h3&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>6. bean对象的创建方式</title>
    <link href="https://iluis.gitee.io/2020/04/03/6.bean%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F/"/>
    <id>https://iluis.gitee.io/2020/04/03/6.bean%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F/</id>
    <published>2020-04-03T03:22:56.000Z</published>
    <updated>2020-04-03T04:36:27.923Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="https://img-blog.csdnimg.cn/20200402141256758.png" alt></p><div align="center">    <h3>    三种创建方式以及注意事项    </h3></div><a id="more"></a><h2 id="Spring对bean的管理细节"><a href="#Spring对bean的管理细节" class="headerlink" title="Spring对bean的管理细节"></a>Spring对bean的管理细节</h2><ul><li><p>创建bean的三种方式：默认构造函数、使用工厂中的普通方法、使用工厂中的静态方法</p></li><li><p>创建bean的作用：获取spring容器</p><h2 id="1-使用默认构造函数创建"><a href="#1-使用默认构造函数创建" class="headerlink" title="1. 使用默认构造函数创建"></a>1. 使用默认构造函数创建</h2><p>在Spring的配置文件中使用bean标签，配置id和class属性之后，且没有其他属性和标签时。</p></li></ul><p>采用的就是默认构造函数创建bean对象，<strong>此时如果类中没有【默认构造函数】，则对象无法创建</strong>。</p><ul><li><p>id：唯一标识 【一个对象的引用】</p></li><li><p>chass：获取创建对象的全限定类名</p></li></ul><p>代码：</p><blockquote><p>创建的是<code>AccountServiceImpl</code>对象，用<code>accountService</code>这个id来取。</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--把对象的创建交给spring管理--&gt;</span></span><br><span class="line">    &lt;&lt;bean id="accountService" class="cn.luis.service.impl.AccountServiceImpl"&gt;&lt;/bean&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>AccountServiceImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao = <span class="keyword">new</span> AccountDaoImpl();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  No default constructor found 【报错】</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">/*public AccountServiceImpl(String name) &#123;</span></span><br><span class="line"><span class="comment">        System.out.println("读取到配置文件，立即创建对象...");</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 一定要有默认构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountServiceImpl</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"servlce中的saveAccount方法执行了..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Client (模拟Servlet)</strong></p><blockquote><p>下面两种方式也要用到此类！</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">// 2.根据id获取Bean对象</span></span><br><span class="line">        IAccountService as = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(as);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><blockquote><p>下面两种方式与之结果类似。</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对象创建了...</span><br><span class="line"><span class="selector-tag">cn</span><span class="selector-class">.luis</span><span class="selector-class">.service</span><span class="selector-class">.impl</span><span class="selector-class">.AccountServiceImpl</span><span class="keyword">@3098cf3b</span></span><br></pre></td></tr></table></figure><h2 id="2-使用工厂中的普通方法创建对象"><a href="#2-使用工厂中的普通方法创建对象" class="headerlink" title="2. 使用工厂中的普通方法创建对象"></a>2. 使用工厂中的普通方法创建对象</h2><p>使用类中的某个方法创建对象，并存入spring容器中</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id="accountService"                   【实现类对象】</span><br><span class="line">factory-bean="instanceFactory"        【指定工厂bean对象】</span><br><span class="line">factory-method="getAccountService"    【指定哪个方法获取对象】</span><br></pre></td></tr></table></figure><p>意思就是：使用<code>instanceFactory</code>对象调用<code>getAccountService</code>方法获取实现类对象<code>AccountServiceImpl</code></p><p>代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--把对象的创建交给spring管理--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"instanceFactory"</span> <span class="attr">class</span>=<span class="string">"cn.luis.factory.InstanceFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> <span class="attr">factory-bean</span>=<span class="string">"instanceFactory"</span></span></span><br><span class="line"><span class="tag"><span class="attr">factory-method</span>=<span class="string">"getAccountService"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="模拟工厂"><a href="#模拟工厂" class="headerlink" title="模拟工厂"></a>模拟工厂</h4><p>1 模拟一个工厂，该类可能是存在于【jar包】中的，我们无法通过修改源码的方式来提供默认构造函数</p><blockquote><p>【jar包】里面都是 .class 文件,无法修改</p></blockquote><p>2.若要将某个【<strong>方法</strong>】的返回值存入spring容器中</p><blockquote><p>就用到了创建Bean的第二种方式</p></blockquote><p>代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.impl.AccountServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InstanceFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IAccountService <span class="title">getAccountService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AccountServiceImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-使用工厂中的静态方法创建对象"><a href="#3-使用工厂中的静态方法创建对象" class="headerlink" title="3.使用工厂中的静态方法创建对象"></a>3.使用工厂中的静态方法创建对象</h2><p>使用类中的静态方法创建对象，并存入spring容器中</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">factory-method="getAccountService"</span><br></pre></td></tr></table></figure><p>代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--把对象的创建交给spring管理--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> <span class="attr">class</span>=<span class="string">"cn.luis.factory.StaticeFactory"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">factory-method</span>=<span class="string">"getAccountService"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="模拟工厂-1"><a href="#模拟工厂-1" class="headerlink" title="模拟工厂"></a>模拟工厂</h4><p> 1.模拟一个工厂，该类可能是存在于【jar包】中的，我们无法通过修改源码的方式来提供默认构造函数</p><blockquote><p>【jar包】里面都是 .class 文件,无法修改</p></blockquote><p>2.若要将某个【<strong>静态方法</strong>】的返回值存入spring容器中</p><blockquote><p>就用到了创建Bean的第三种方式</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.impl.AccountServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticeFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IAccountService <span class="title">getAccountService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AccountServiceImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200402141256758.png&quot; alt&gt;&lt;/p&gt;
&lt;div align=&quot;center&quot;&gt;
    &lt;h3&gt;
    三种创建方式以及注意事项
    &lt;/h3&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>5. 核心容器的两个接口引发出的问题</title>
    <link href="https://iluis.gitee.io/2020/04/03/5.%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%BC%95%E5%8F%91%E5%87%BA%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>https://iluis.gitee.io/2020/04/03/5.%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%BC%95%E5%8F%91%E5%87%BA%E7%9A%84%E9%97%AE%E9%A2%98/</id>
    <published>2020-04-03T03:22:50.000Z</published>
    <updated>2020-04-07T06:36:32.040Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div align="center">    <h2>    单例对象和多例对象    </h2></div><a id="more"></a><h3 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h3><p>单例对象适用，【常用此接口来定义容器对象】</p><ul><li>它在构建核心容器时，创建对象采取的策略是采用立即加载的方式。</li></ul><ul><li>也就是说，只要一读取完配置文件马上就创建配置文件中配置的对象。</li></ul><h3 id="BeanFactory"><a href="#BeanFactory" class="headerlink" title="BeanFactory"></a>BeanFactory</h3><p>多例对象适用</p><ul><li>它在构建核心容器时，创建对象采取的策略是采用延迟加载的方式。</li><li>也就是说，什么时候根据id获取对象了，什么时候才真正的创建对象。</li></ul><p>ApplicationContext演示代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象</span></span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>); <span class="comment">//断点测试</span></span><br><span class="line">        <span class="comment">// 2.根据id获取Bean对象 </span></span><br><span class="line">        IAccountService as = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">      </span><br><span class="line">        System.out.println(as);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>AccountServiceImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao = <span class="keyword">new</span> AccountDaoImpl();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AccountServiceImpl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"读取到配置文件，立即创建对象..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">saveAccount</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">读取到配置文件，立即创建对象...</span><br><span class="line">...</span><br><span class="line"><span class="selector-tag">cn</span><span class="selector-class">.luis</span><span class="selector-class">.service</span><span class="selector-class">.impl</span><span class="selector-class">.AccountServiceImpl</span><span class="keyword">@28975c28</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;div align=&quot;center&quot;&gt;
    &lt;h2&gt;
    单例对象和多例对象
    &lt;/h2&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>4. ApplicationContext的实现类</title>
    <link href="https://iluis.gitee.io/2020/04/03/4.ApplicationContext%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB/"/>
    <id>https://iluis.gitee.io/2020/04/03/4.ApplicationContext%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB/</id>
    <published>2020-04-03T03:22:43.000Z</published>
    <updated>2020-04-03T04:36:06.255Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="共有三个常用实现类"><a href="#共有三个常用实现类" class="headerlink" title="共有三个常用实现类"></a>共有三个常用实现类</h2><ol><li><p>ClassPathXmlApplicationContext</p><blockquote><p>它可以加载类路径下的配置文件，要求配置文件必须在类路径下。不在的话，加载不了。(更常用)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取核心容器对象</span></span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br></pre></td></tr></table></figure></li><li><p>FileSystemXmlApplicationContext</p><blockquote><p>它可以加载磁盘任意路径下的配置文件(必须有访问权限）</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取核心容器对象</span></span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> FileSystemXmlApplicationContext(<span class="string">"D:\\...\\bean.xml"</span>);</span><br></pre></td></tr></table></figure></li><li><p>AnnotationConfigApplicationContext</p><blockquote><p>它是用于读取注解创建容器的</p></blockquote></li></ol><a id="more"></a><p>代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.dao.IAccountDao;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.impl.AccountServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 模拟一个表现层，用于调用业务层</span></span><br><span class="line"><span class="comment"> * 获取spring的Ioc核心容器，并根据id获取对象</span></span><br><span class="line"><span class="comment"> * 读取配置文件、创建对象并存入容器的任务都交给Spring</span></span><br><span class="line"><span class="comment"> * 我们只需创建编写配置文件配置、获取核心容器对象、再根据唯一标志（id）取出对象来使用即可。</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象 [读取配置文件]</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">         <span class="comment">//ApplicationContext ac = new FileSystemXmlApplicationContext("D:\\...\\bean.xml");</span></span><br><span class="line">        <span class="comment">// 2.根据id获取Bean对象 (两种写法都可以)</span></span><br><span class="line">        IAccountService as = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">        IAccountDao ad = ac.getBean(<span class="string">"accountDao"</span>,IAccountDao<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(as);</span><br><span class="line">        System.out.println(ad);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;共有三个常用实现类&quot;&gt;&lt;a href=&quot;#共有三个常用实现类&quot; class=&quot;headerlink&quot; title=&quot;共有三个常用实现类&quot;&gt;&lt;/a&gt;共有三个常用实现类&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ClassPathXmlApplicationContext&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;它可以加载类路径下的配置文件，要求配置文件必须在类路径下。不在的话，加载不了。(更常用)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 获取核心容器对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ApplicationContext ac = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ClassPathXmlApplicationContext(&lt;span class=&quot;string&quot;&gt;&quot;bean.xml&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;FileSystemXmlApplicationContext&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;它可以加载磁盘任意路径下的配置文件(必须有访问权限）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 获取核心容器对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ApplicationContext ac = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FileSystemXmlApplicationContext(&lt;span class=&quot;string&quot;&gt;&quot;D:\\...\\bean.xml&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AnnotationConfigApplicationContext&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;它是用于读取注解创建容器的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>3. 基于xml的IOC环境搭建和入门</title>
    <link href="https://iluis.gitee.io/2020/04/03/3.%E5%9F%BA%E4%BA%8Exml%E7%9A%84IOC%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%92%8C%E5%85%A5%E9%97%A8/"/>
    <id>https://iluis.gitee.io/2020/04/03/3.%E5%9F%BA%E4%BA%8Exml%E7%9A%84IOC%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%92%8C%E5%85%A5%E9%97%A8/</id>
    <published>2020-04-03T03:22:36.000Z</published>
    <updated>2020-04-03T04:35:54.641Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>在pom.xml中导入<code>org.springframework</code>坐标</p><h3 id="1-编写配置文件"><a href="#1-编写配置文件" class="headerlink" title="1. 编写配置文件"></a>1. 编写配置文件</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--把对象的创建交给spring管理--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--id:唯一标识  chass:获取创建对象的全限定类名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountService"</span> <span class="attr">class</span>=<span class="string">"cn.luis.service.impl.AccountServiceImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountDao"</span> <span class="attr">class</span>=<span class="string">"cn.luis.dao.impl.AccountDaoImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="2-取出配置文件中创建的容器"><a href="#2-取出配置文件中创建的容器" class="headerlink" title="2. 取出配置文件中创建的容器"></a>2. 取出配置文件中创建的容器</h3><p>获取spring的Ioc核心容器，并根据id获取对象</p><ul><li>读取配置文件、创建对象并存入容器的任务都交给<code>Spring</code></li><li>我们只需创建编写配置文件配置、获取核心容器对象、再根据唯一标志 (id) 取出对象来使用即可。</li></ul><p>代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.luis.dao.IAccountDao;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.IAccountService;</span><br><span class="line"><span class="keyword">import</span> cn.luis.service.impl.AccountServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 模拟一个表现层，用于调用业务层</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取spring的Ioc核心容器，并根据id获取对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取核心容器对象</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">// 2.根据【bean的id】获取Bean对象 【两种写法都可以】</span></span><br><span class="line">        IAccountService as = (IAccountService) ac.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">        IAccountDao ad = ac.getBean(<span class="string">"accountDao"</span>,IAccountDao<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(as);</span><br><span class="line">        System.out.println(ad);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cn<span class="selector-class">.luis</span><span class="selector-class">.service</span><span class="selector-class">.impl</span>.AccountServiceImpl@<span class="number">6</span>f45df59</span><br><span class="line">cn<span class="selector-class">.luis</span><span class="selector-class">.dao</span><span class="selector-class">.impl</span>.AccountDaoImpl@<span class="number">38</span>e79ae3</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在pom.xml中导入&lt;code&gt;org.springframework&lt;/code&gt;坐标&lt;/p&gt;
&lt;h3 id=&quot;1-编写配置文件&quot;&gt;&lt;a href=&quot;#1-编写配置文件&quot; class=&quot;headerlink&quot; title=&quot;1. 编写配置文件&quot;&gt;&lt;/a&gt;1. 编写配置文件&lt;/h3&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;beans&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;       &lt;span class=&quot;attr&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;       &lt;span class=&quot;attr&quot;&gt;xsi:schemaLocation&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--把对象的创建交给spring管理--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--id:唯一标识  chass:获取创建对象的全限定类名--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;accountService&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;cn.luis.service.impl.AccountServiceImpl&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;accountDao&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;cn.luis.dao.impl.AccountDaoImpl&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;beans&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>2. 编写工厂类和配置文件</title>
    <link href="https://iluis.gitee.io/2020/04/03/2.%E7%BC%96%E5%86%99%E5%B7%A5%E5%8E%82%E7%B1%BB%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
    <id>https://iluis.gitee.io/2020/04/03/2.%E7%BC%96%E5%86%99%E5%B7%A5%E5%8E%82%E7%B1%BB%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</id>
    <published>2020-04-03T02:20:45.000Z</published>
    <updated>2020-04-03T04:35:42.314Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-配置文件"><a href="#1-配置文件" class="headerlink" title="1. 配置文件"></a>1. 配置文件</h3><p>在<code>resources</code>下配置<code>bean.properties</code>文件</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">accountDao</span>=<span class="string">cn.luis.dao.impl.AccountDaoImpl</span></span><br><span class="line"><span class="attr">accountService</span>=<span class="string">cn.luis.service.impl.AccountServiceImpl</span></span><br></pre></td></tr></table></figure><a id="more"></a><h4 id="解耦方式"><a href="#解耦方式" class="headerlink" title="解耦方式"></a>解耦方式</h4><p>用反射配置对象的方式替代new创建</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> IAccountDao accountDao = <span class="keyword">new</span> AccountDaoImpl();</span><br><span class="line"><span class="comment">// 解耦</span></span><br><span class="line"><span class="keyword">private</span> IAccountDao ad = (IAccountDao) BeanFactory.getBean(<span class="string">"accountDao"</span>);</span><br></pre></td></tr></table></figure><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ol><li><p>业务层和持久层尽量不要定义成员变量，最好定义到方法里</p><blockquote><p> 前面数据被修改，后面会看的到，影响后面操作</p></blockquote></li><li><p>业务层和持久层最好是单例对象</p></li></ol><h3 id="2-编写工厂类"><a href="#2-编写工厂类" class="headerlink" title="2. 编写工厂类"></a>2. 编写工厂类</h3><p>一个创建Bean对象的工厂</p><p>Bean：在计算机英语中，有可重用组件的含义。</p><p>JavaBean：用java语言编写的可重用组件。</p><blockquote><p>范围：javabean &gt;  实体类</p></blockquote><ul><li>它就是创建我们的service和dao对象的。</li></ul><h4 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h4><ol><li><p>需要一个配置文件来配置我们的service和dao</p><blockquote><p>配置文件可以是xml也可以是properties</p></blockquote></li><li><p>配置的内容：唯一标识=全限定类名（key=value)</p></li><li><p>通过读取配置文件中配置的内容，反射创建对象</p></li></ol><h4 id="2-1-普通工厂-（多例对象）"><a href="#2-1-普通工厂-（多例对象）" class="headerlink" title="2.1 普通工厂 （多例对象）"></a>2.1 普通工厂 （多例对象）</h4><blockquote><p><code>.newInstance()</code>：每次都会调用默认构造函数创建对象</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定义一个Properties对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Properties props;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用静态代码块为Properties对象赋值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 2.【读取配置文件内容】</span></span><br><span class="line">            <span class="comment">//实例化对象</span></span><br><span class="line">            props = <span class="keyword">new</span> Properties();</span><br><span class="line">            <span class="comment">//获取properties文件的流对象</span></span><br><span class="line">            InputStream in = BeanFactory<span class="class">.<span class="keyword">class</span>.<span class="title">getClassLoader</span>()</span></span><br><span class="line">                .getResourceAsStream("bean.properties");</span><br><span class="line">            props.load(in);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ExceptionInInitializerError(<span class="string">"初始化properties失败！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1.根据Bean名称获取Bean的对象(多例对象)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">getBean</span><span class="params">(String beanName)</span> </span>&#123;</span><br><span class="line">        Object bean = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String beanPath = props.getProperty(beanName);</span><br><span class="line">            System.out.println(beanPath);</span><br><span class="line">            <span class="comment">// 1.【用反射的方式创建对象】   </span></span><br><span class="line">            <span class="comment">//【.newInstance()：每次都会调用默认构造函数创建对象】</span></span><br><span class="line">            bean = Class.forName(beanPath).newInstance();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Client</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 模拟一个表现层，用于调用业务层</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="comment">//IAccountService as = new AccountServiceImpl();</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// 解耦</span></span><br><span class="line">            IAccountService as = </span><br><span class="line">                (IAccountService) BeanFactory.getBean(<span class="string">"accountService"</span>);</span><br><span class="line">            System.out.println(as); <span class="comment">// 打印了5个相同的对象</span></span><br><span class="line">            as.saveAccount();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>AccountServiceImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 账户的业务层实现类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">saveAccount</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cn.luis.service.impl.<span class="symbol">AccountServiceImpl@</span><span class="number">39</span>ba5a14</span><br><span class="line"><span class="number">1</span></span><br><span class="line">cn.luis.service.impl.<span class="symbol">AccountServiceImpl@</span><span class="number">39</span>ba5a14</span><br><span class="line"><span class="number">2</span></span><br><span class="line">cn.luis.service.impl.<span class="symbol">AccountServiceImpl@</span><span class="number">39</span>ba5a14</span><br><span class="line"><span class="number">3</span></span><br><span class="line">cn.luis.service.impl.<span class="symbol">AccountServiceImpl@</span><span class="number">39</span>ba5a14</span><br><span class="line"><span class="number">4</span></span><br><span class="line">cn.luis.service.impl.<span class="symbol">AccountServiceImpl@</span><span class="number">39</span>ba5a14</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><h4 id="2-2-增强工厂类-（单例对象）"><a href="#2-2-增强工厂类-（单例对象）" class="headerlink" title="2.2 增强工厂类 （单例对象）"></a>2.2 增强工厂类 （单例对象）</h4><blockquote><p>定义一个Map,用于存放要创建的对象。我们把它称之为【容器】</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定义一个Properties对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Properties props;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定义一个Map,用于存放我们要创建的对象。我们把它称之为【容器】</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String,Object&gt; beans;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用静态代码块为Properties对象赋值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 2.【读取配置文件内容】</span></span><br><span class="line">            <span class="comment">//实例化对象</span></span><br><span class="line">            props = <span class="keyword">new</span> Properties();</span><br><span class="line">            <span class="comment">//获取properties文件的流对象</span></span><br><span class="line">            InputStream in = BeanFactory<span class="class">.<span class="keyword">class</span>.<span class="title">getClassLoader</span>()</span></span><br><span class="line">                .getResourceAsStream("bean.properties");</span><br><span class="line">            props.load(in);</span><br><span class="line">            <span class="comment">//2.方法</span></span><br><span class="line">            <span class="comment">//实例化容器</span></span><br><span class="line">            beans = <span class="keyword">new</span> HashMap&lt;String,Object&gt;();</span><br><span class="line">            <span class="comment">//取出配置文件中所有的Key</span></span><br><span class="line">            Enumeration keys = props.keys();</span><br><span class="line">            <span class="comment">//遍历枚举</span></span><br><span class="line">            <span class="keyword">while</span> (keys.hasMoreElements())&#123;</span><br><span class="line">                <span class="comment">//取出每个Key</span></span><br><span class="line">                String key = keys.nextElement().toString();</span><br><span class="line">                <span class="comment">//根据key获取value</span></span><br><span class="line">                String beanPath = props.getProperty(key);</span><br><span class="line">                <span class="comment">//【反射创建对象】</span></span><br><span class="line">                Object value = Class.forName(beanPath).newInstance();</span><br><span class="line">                <span class="comment">//把key和value存入容器中</span></span><br><span class="line">                beans.put(key,value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ExceptionInInitializerError(<span class="string">"初始化properties失败！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 2.根据bean的名称获取对象(单例对象)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">getBean</span><span class="params">(String beanName)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> beans.get(beanName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><blockquote><p>打印了5个不同的对象</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cn.luis.service.impl.AccountServiceImpl@<span class="number">39</span>ba5a14</span><br><span class="line"><span class="number">1</span></span><br><span class="line">cn.luis.service.impl.AccountServiceImpl@<span class="number">511</span>baa65</span><br><span class="line"><span class="number">1</span></span><br><span class="line">cn.luis.service.impl.AccountServiceImpl@<span class="number">340f</span>438e</span><br><span class="line"><span class="number">1</span></span><br><span class="line">cn.luis.service.impl.AccountServiceImpl@<span class="number">30</span>c7da1e</span><br><span class="line"><span class="number">1</span></span><br><span class="line">cn.luis.service.impl.AccountServiceImpl@<span class="number">5</span>b464ce8</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-配置文件&quot;&gt;&lt;a href=&quot;#1-配置文件&quot; class=&quot;headerlink&quot; title=&quot;1. 配置文件&quot;&gt;&lt;/a&gt;1. 配置文件&lt;/h3&gt;&lt;p&gt;在&lt;code&gt;resources&lt;/code&gt;下配置&lt;code&gt;bean.properties&lt;/code&gt;文件&lt;/p&gt;
&lt;figure class=&quot;highlight properties&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;accountDao&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;cn.luis.dao.impl.AccountDaoImpl&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;accountService&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;cn.luis.service.impl.AccountServiceImpl&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://iluis.gitee.io/categories/Spring/"/>
    
    
      <category term="Spring IOC" scheme="https://iluis.gitee.io/tags/Spring-IOC/"/>
    
  </entry>
  
  <entry>
    <title>My First Blog</title>
    <link href="https://iluis.gitee.io/2020/03/14/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
    <id>https://iluis.gitee.io/2020/03/14/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</id>
    <published>2020-03-14T10:12:20.000Z</published>
    <updated>2020-04-07T06:15:25.961Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div align="center">    <h2>    小雀斑    </h2></div><a id="more"></a><p>如果有两个情人一样美一样的可怜</p><p>让我选有雀斑的一个</p><p>迷人全在那么一点点</p><p>你便是我的初选和末选，小雀斑</p><p>为了无端端那斑斑点点</p><p>蜷在耳背后，偎在唇角或眉间</p><p>为妩媚添上神秘</p><p>传说 天上有一颗星管你脸上那汗斑</p><p>信不信由你，只求你</p><p>不要笑，笑得太厉害</p><p>靥里看你看得人花眼</p><p>凡美妙的，听我说，都该有印痕</p><p>月光一满轮也不例外</p><p>不要，啊不要笑得太厉害</p><p>我的心不是耳环，我的心</p><p>经不起你的笑声</p><p>荡过去荡过来……</p><p><img src="https://iluis.gitee.io/tubed/images/banner1.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;div align=&quot;center&quot;&gt;
    &lt;h2&gt;
    小雀斑
    &lt;/h2&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="摘抄" scheme="https://iluis.gitee.io/categories/%E6%91%98%E6%8A%84/"/>
    
    
      <category term="摘抄" scheme="https://iluis.gitee.io/tags/%E6%91%98%E6%8A%84/"/>
    
  </entry>
  
</feed>
